/**
 * Apply a default value to text fields quickly &amp; easily.
 *
 * The easiest way to use is $('your-selector').autoclear(). All the defaults
 * in the settings object are used. For more advanced cases, and complete
 * reference, @see http://www.mattlunn.me.uk/projects/autoclear
 *
 * @author Matt Lunn
 * @version 5
 * @param  Object / String
 * @return Object jQuery
 * @see http://www.mattlunn.me.uk/projects/autoclear
 * @see README
 */
; (function(d){function h(c){return c===undefined||c===""}function e(c){return k.apply(c,l.call(arguments,1))}var k=jQuery.fn.val,l=[].slice;jQuery.fn.val=function(){var c=e(this),b;if(typeof c==="string"){b=this.first().data("default.autoclear");if(b!==undefined&&c===b)c=""}else this.each(function(){var a=d(this);a.data("default.autoclear")!==undefined&&a.val()===""?a.trigger("default.autoclear"):a.trigger("other.autoclear")});return c};jQuery.fn.autoclear=function(c){var b={defaultClass:"default",otherClass:"other",defaultValue:"",useDefaultOnReset:true,clearDefaultOnSubmit:true};if(arguments.length)switch(typeof c){case "string":b.defaultClass=c;break;case "object":b=jQuery.extend(b,c);break}this.filter("input:text,textarea").each(function(){var a=d(this),i=a.closest("form"),g=jQuery.trim(e(a)),f=a.attr("title");if(h(f))f=g===""?b.defaultValue:g;a.data("default.autoclear",f);i.bind("reset.autoclear",function(){var j;j=b.useDefaultOnReset?"":a.attr("defaultValue");a.val(j)});if(b.useDefaultOnReset||h(jQuery.trim(a.attr("defaultValue"))))a.attr("defaultValue",f).val(g);b.clearDefaultOnSubmit&&i.bind("submit.autoclear",function(){a.trigger("focus.autoclear")})}).bind({"focus.autoclear":function(){var a=d(this);a.val()===""&&e(a,"").trigger("other.autoclear")},"blur.autoclear":function(){var a=d(this);jQuery.trim(e(a))===""?a.trigger("default.autoclear"):a.trigger("other.autoclear")},"default.autoclear":function(){var a=d(this).removeClass(b.otherClass).addClass(b.defaultClass);e(a,a.data("default.autoclear"))},"other.autoclear":function(){d(this).removeClass(b.defaultClass).addClass(b.otherClass)}}).trigger("blur.autoclear");return this}})(jQuery);